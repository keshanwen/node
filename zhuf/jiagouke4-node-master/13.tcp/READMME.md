端口号 是16位  2^16 - 1  (客户端访问的时候 会生成随机端口 最大就是65535)
传输的序列号最大就是4.3G, 10G的数据  可以对4.3取膜
头部长度 是4位 1111 = 15  单位是字节  4 * 15 = 60  最大头部有60个字节


tcp为什么握手是3次断开是4次？

- 三次握手分别是 SYN  
- 应答方  SYNC + ACK  2次合成了1次
- 请求放 ACK

> 三次握手可以保证双向连接的建立


SYN 建立连接
ACK 应答了
Seq 描述传输的序号

seq = 1  ack = 1 说明握手完成了

后续传递数据要基于这两个值发送

发送数据 客户端给服务端发送数据 seq=1 发送5个字节
服务端要响应  我收到了 5个 应答你。 你要是给我传递数据依旧是从1开始


客户端和服务端说 hello  ， 服务端响应hi


> 数据传输 双方需要记录seq 保证可以对数据进行重组


我们断开是4次 原因是客户端和服务端说断开 服务端需要立即响应 ack

服务端还有一些没有做完的事情 需要等待做完后在和客户端说断开 fin ack

客户端确认断开


我和你分手
收到了
我也和你分手
收到了 丢包了
我也和你分手
收到了 丢包了
我也和你分手
收到了

服务端收到后不再进行响应 

等了2MSL 就终止



客户端不会立即断开 会变成time-wait 看一下服务端是否在来找我， （等一会确实没有包发给我了我再断开）
n个请求发送结束后 都会走到timewait  (端口有限)  大量的端口就被占用了